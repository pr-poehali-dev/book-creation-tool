import { useState, useEffect } from 'react';
import { Card } from '@/components/ui/card';
import Icon from '@/components/ui/icon';

const literaryFacts = [
  "ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€ Ð”ÑŽÐ¼Ð° Ð¿Ð¸ÑÐ°Ð» Ñ‚Ð°Ðº Ð±Ñ‹ÑÑ‚Ñ€Ð¾, Ñ‡Ñ‚Ð¾ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ð» ÐºÐ¾Ð¼Ð°Ð½Ð´Ñƒ Ð¿Ð¾Ð¼Ð¾Ñ‰Ð½Ð¸ÐºÐ¾Ð² Ð´Ð»Ñ ÑÐ¾Ð·Ð´Ð°Ð½Ð¸Ñ ÑÐ²Ð¾Ð¸Ñ… Ñ€Ð¾Ð¼Ð°Ð½Ð¾Ð².",
  "Ð­Ð¹ÐºÐ¾ ÐšÐ°Ð´Ð¾Ð½Ð¾ Ð½Ð°Ð¿Ð¸ÑÐ°Ð»Ð° 'Ð’ÐµÐ´ÑŒÐ¼Ð¸Ð½Ñƒ ÑÐ»ÑƒÐ¶Ð±Ñƒ Ð´Ð¾ÑÑ‚Ð°Ð²ÐºÐ¸' Ð²Ð´Ð¾Ñ…Ð½Ð¾Ð²Ð¸Ð²ÑˆÐ¸ÑÑŒ Ð¿ÑƒÑ‚ÐµÑˆÐµÑÑ‚Ð²Ð¸ÐµÐ¼ Ð¿Ð¾ Ð•Ð²Ñ€Ð¾Ð¿Ðµ.",
  "ÐÐ³Ð°Ñ‚Ð° ÐšÑ€Ð¸ÑÑ‚Ð¸ â€” ÑÐ°Ð¼Ð°Ñ Ð¿Ñ€Ð¾Ð´Ð°Ð²Ð°ÐµÐ¼Ð°Ñ Ð¿Ð¸ÑÐ°Ñ‚ÐµÐ»ÑŒÐ½Ð¸Ñ†Ð° Ð² Ð¸ÑÑ‚Ð¾Ñ€Ð¸Ð¸, ÐµÑ‘ ÐºÐ½Ð¸Ð³Ð¸ Ð¿ÐµÑ€ÐµÐ²ÐµÐ´ÐµÐ½Ñ‹ Ð½Ð° 103 ÑÐ·Ñ‹ÐºÐ°.",
  "Ð­Ñ€Ð½ÐµÑÑ‚ Ð¥ÐµÐ¼Ð¸Ð½Ð³ÑƒÑÐ¹ Ð¿Ð¸ÑÐ°Ð» ÑÑ‚Ð¾Ñ Ð·Ð° ÐºÐ¾Ð½Ñ‚Ð¾Ñ€ÐºÐ¾Ð¹ Ð²Ñ‹ÑÐ¾Ñ‚Ð¾Ð¹ Ð¿Ð¾ Ð¿Ð¾ÑÑ.",
  "Ð’Ð¸ÐºÑ‚Ð¾Ñ€ Ð“ÑŽÐ³Ð¾ Ð½Ð°Ð¿Ð¸ÑÐ°Ð» 'ÐžÑ‚Ð²ÐµÑ€Ð¶ÐµÐ½Ð½Ñ‹Ñ…' Ð·Ð° 17 Ð»ÐµÑ‚, Ð° Ð½ÐµÐºÐ¾Ñ‚Ð¾Ñ€Ñ‹Ðµ Ð³Ð»Ð°Ð²Ñ‹ â€” Ð²ÑÐµÐ³Ð¾ Ð·Ð° Ð¾Ð´Ð¸Ð½ Ð´ÐµÐ½ÑŒ.",
  "Ð¡Ñ‚Ð¸Ð²ÐµÐ½ ÐšÐ¸Ð½Ð³ Ð¿Ð¸ÑˆÐµÑ‚ ÐºÐ°Ð¶Ð´Ñ‹Ð¹ Ð´ÐµÐ½ÑŒ, Ð´Ð°Ð¶Ðµ Ð² Ð¿Ñ€Ð°Ð·Ð´Ð½Ð¸ÐºÐ¸, Ð¸ ÑÑ‚Ð°Ð²Ð¸Ñ‚ ÑÐµÐ±Ðµ Ñ†ÐµÐ»ÑŒ â€” 2000 ÑÐ»Ð¾Ð².",
  "Ð›ÐµÐ² Ð¢Ð¾Ð»ÑÑ‚Ð¾Ð¹ Ð¿ÐµÑ€ÐµÐ¿Ð¸ÑÑ‹Ð²Ð°Ð» 'Ð’Ð¾Ð¹Ð½Ñƒ Ð¸ Ð¼Ð¸Ñ€' ÑÐµÐ¼ÑŒ Ñ€Ð°Ð· Ð¾Ñ‚ Ñ€ÑƒÐºÐ¸.",
  "Ð”Ð¶Ð¾Ð°Ð½ Ð Ð¾ÑƒÐ»Ð¸Ð½Ð³ Ð¿Ñ€Ð¸Ð´ÑƒÐ¼Ð°Ð»Ð° Ð¸Ð´ÐµÑŽ Ð¾ Ð“Ð°Ñ€Ñ€Ð¸ ÐŸÐ¾Ñ‚Ñ‚ÐµÑ€Ðµ Ð² Ð¿Ð¾ÐµÐ·Ð´Ðµ Ð¼ÐµÐ¶Ð´Ñƒ ÐœÐ°Ð½Ñ‡ÐµÑÑ‚ÐµÑ€Ð¾Ð¼ Ð¸ Ð›Ð¾Ð½Ð´Ð¾Ð½Ð¾Ð¼.",
  "Ð¥Ð°Ñ€ÑƒÐºÐ¸ ÐœÑƒÑ€Ð°ÐºÐ°Ð¼Ð¸ Ð½Ð°Ñ‡Ð¸Ð½Ð°ÐµÑ‚ Ð¿Ð¸ÑÐ°Ñ‚ÑŒ Ð² 4 ÑƒÑ‚Ñ€Ð° Ð¸ Ñ€Ð°Ð±Ð¾Ñ‚Ð°ÐµÑ‚ 5-6 Ñ‡Ð°ÑÐ¾Ð² Ð±ÐµÐ· Ð¿ÐµÑ€ÐµÑ€Ñ‹Ð²Ð°.",
  "Ð ÑÐ¹ Ð‘Ñ€ÑÐ´Ð±ÐµÑ€Ð¸ Ð½Ð°Ð¿Ð¸ÑÐ°Ð» 'Ð’Ð¸Ð½Ð¾ Ð¸Ð· Ð¾Ð´ÑƒÐ²Ð°Ð½Ñ‡Ð¸ÐºÐ¾Ð²' Ð·Ð° 9 Ð´Ð½ÐµÐ¹ Ð² Ð¿Ð¾Ð´Ð²Ð°Ð»Ðµ Ð±Ð¸Ð±Ð»Ð¸Ð¾Ñ‚ÐµÐºÐ¸.",
  "Ð“Ð°Ð±Ñ€Ð¸ÑÐ»ÑŒ Ð“Ð°Ñ€ÑÐ¸Ð° ÐœÐ°Ñ€ÐºÐµÑ Ð½Ð°Ð¿Ð¸ÑÐ°Ð» Ð¿ÐµÑ€Ð²ÑƒÑŽ Ñ„Ñ€Ð°Ð·Ñƒ 'Ð¡Ñ‚Ð° Ð»ÐµÑ‚ Ð¾Ð´Ð¸Ð½Ð¾Ñ‡ÐµÑÑ‚Ð²Ð°' Ð² 8 Ð»ÐµÑ‚.",
  "Ð’Ð¸Ñ€Ð´Ð¶Ð¸Ð½Ð¸Ñ Ð’ÑƒÐ»Ñ„ Ð¿Ð¸ÑÐ°Ð»Ð° ÑÑ‚Ð¾Ñ Ð·Ð° Ð²Ñ‹ÑÐ¾ÐºÐ¸Ð¼ ÑÑ‚Ð¾Ð»Ð¾Ð¼, Ñ‡Ñ‚Ð¾Ð±Ñ‹ Ð»ÑƒÑ‡ÑˆÐµ ÐºÐ¾Ð½Ñ†ÐµÐ½Ñ‚Ñ€Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒÑÑ.",
  "ÐœÐ°Ñ€Ðº Ð¢Ð²ÐµÐ½ Ð±Ñ‹Ð» Ð¿ÐµÑ€Ð²Ñ‹Ð¼ Ð¿Ð¸ÑÐ°Ñ‚ÐµÐ»ÐµÐ¼, ÐºÐ¾Ñ‚Ð¾Ñ€Ñ‹Ð¹ Ð¾Ñ‚Ð¿Ñ€Ð°Ð²Ð¸Ð» Ð¸Ð·Ð´Ð°Ñ‚ÐµÐ»ÑŽ Ñ€ÑƒÐºÐ¾Ð¿Ð¸ÑÑŒ, Ð½Ð°Ð¿ÐµÑ‡Ð°Ñ‚Ð°Ð½Ð½ÑƒÑŽ Ð½Ð° Ð¼Ð°ÑˆÐ¸Ð½ÐºÐµ.",
  "ÐœÐ¸Ñ…Ð°Ð¸Ð» Ð‘ÑƒÐ»Ð³Ð°ÐºÐ¾Ð² ÑÐ¶Ñ‘Ð³ Ð¿ÐµÑ€Ð²ÑƒÑŽ Ð²ÐµÑ€ÑÐ¸ÑŽ 'ÐœÐ°ÑÑ‚ÐµÑ€Ð° Ð¸ ÐœÐ°Ñ€Ð³Ð°Ñ€Ð¸Ñ‚Ñ‹', Ð¿Ð¾Ð·Ð¶Ðµ Ð²Ð¾ÑÑÑ‚Ð°Ð½Ð¾Ð²Ð¸Ð² ÐµÑ‘ Ð¿Ð¾ Ð¿Ð°Ð¼ÑÑ‚Ð¸.",
  "ÐÐ°Ð±Ð¾ÐºÐ¾Ð² Ð¿Ð¸ÑÐ°Ð» ÑÐ²Ð¾Ð¸ Ñ€Ð¾Ð¼Ð°Ð½Ñ‹ Ð½Ð° ÐºÐ°Ñ€Ñ‚Ð¾Ñ‡ÐºÐ°Ñ…, Ñ‡Ñ‚Ð¾Ð±Ñ‹ Ð»ÐµÐ³ÐºÐ¾ Ð¼ÐµÐ½ÑÑ‚ÑŒ Ð¼ÐµÑÑ‚Ð°Ð¼Ð¸ ÑÑ†ÐµÐ½Ñ‹.",
  "Ð£Ð¼Ð±ÐµÑ€Ñ‚Ð¾ Ð­ÐºÐ¾ Ð²Ð»Ð°Ð´ÐµÐ» Ð»Ð¸Ñ‡Ð½Ð¾Ð¹ Ð±Ð¸Ð±Ð»Ð¸Ð¾Ñ‚ÐµÐºÐ¾Ð¹ Ð² 30,000 ÐºÐ½Ð¸Ð³.",
  "ÐœÐ°Ñ€Ð³Ð°Ñ€ÐµÑ‚ ÐœÐ¸Ñ‚Ñ‡ÐµÐ»Ð» Ð½Ð°Ð¿Ð¸ÑÐ°Ð»Ð° ÐµÐ´Ð¸Ð½ÑÑ‚Ð²ÐµÐ½Ð½Ñ‹Ð¹ Ñ€Ð¾Ð¼Ð°Ð½ â€” 'Ð£Ð½ÐµÑÑ‘Ð½Ð½Ñ‹Ðµ Ð²ÐµÑ‚Ñ€Ð¾Ð¼', Ð¿Ð¾Ð»ÑƒÑ‡Ð¸Ð² Ð·Ð° Ð½ÐµÐ³Ð¾ ÐŸÑƒÐ»Ð¸Ñ‚Ñ†ÐµÑ€Ð¾Ð²ÑÐºÑƒÑŽ Ð¿Ñ€ÐµÐ¼Ð¸ÑŽ.",
  "Ð”Ð¶ÐµÐº Ð›Ð¾Ð½Ð´Ð¾Ð½ Ð¿Ð¸ÑÐ°Ð» ÐºÐ°Ð¶Ð´Ñ‹Ð¹ Ð´ÐµÐ½ÑŒ Ð¼Ð¸Ð½Ð¸Ð¼ÑƒÐ¼ 1000 ÑÐ»Ð¾Ð², Ð´Ð°Ð¶Ðµ ÐºÐ¾Ð³Ð´Ð° Ð±Ñ‹Ð» Ð±Ð¾Ð»ÐµÐ½."
];

const inspiringPhrases = [
  "ÐšÐ°Ð¶Ð´Ð°Ñ Ð²ÐµÐ»Ð¸ÐºÐ°Ñ Ð¸ÑÑ‚Ð¾Ñ€Ð¸Ñ Ð½Ð°Ñ‡Ð¸Ð½Ð°ÐµÑ‚ÑÑ Ñ Ð¾Ð´Ð½Ð¾Ð¹ Ñ„Ñ€Ð°Ð·Ñ‹ âœ¨",
  "Ð¢Ð²Ð¾Ñ‘ Ð²Ð¾Ð¾Ð±Ñ€Ð°Ð¶ÐµÐ½Ð¸Ðµ â€” ÑÑ‚Ð¾ Ð²Ð¾Ð»ÑˆÐµÐ±ÑÑ‚Ð²Ð¾, ÐºÐ¾Ñ‚Ð¾Ñ€Ð¾Ðµ Ð¶Ð´Ñ‘Ñ‚ ÑÑ‚Ñ€Ð°Ð½Ð¸Ñ† ðŸ“–",
  "ÐŸÐ¸ÑÐ°Ñ‚ÐµÐ»Ð¸ Ð½Ðµ Ñ€Ð¾Ð¶Ð´Ð°ÑŽÑ‚ÑÑ, Ð¾Ð½Ð¸ ÑÐ¾Ð·Ð´Ð°ÑŽÑ‚ ÑÐµÐ±Ñ ÑÐ»Ð¾Ð²Ð°Ð¼Ð¸ ðŸ–‹ï¸",
  "Ð’ ÐºÐ°Ð¶Ð´Ð¾Ð¹ ÐºÐ½Ð¸Ð³Ðµ Ð¶Ð¸Ð²Ñ‘Ñ‚ Ñ‡Ð°ÑÑ‚Ð¸Ñ†Ð° Ð´ÑƒÑˆÐ¸ Ð°Ð²Ñ‚Ð¾Ñ€Ð° ðŸ’«",
  "Ð›ÑƒÑ‡ÑˆÐ¸Ð¹ Ð´ÐµÐ½ÑŒ Ð´Ð»Ñ Ð½Ð°Ñ‡Ð°Ð»Ð° Ñ€Ð¾Ð¼Ð°Ð½Ð° â€” ÑÐµÐ³Ð¾Ð´Ð½Ñ ðŸŒŸ",
  "Ð¢Ð²Ð¾Ð¸ Ð¿ÐµÑ€ÑÐ¾Ð½Ð°Ð¶Ð¸ Ð¶Ð´ÑƒÑ‚, ÐºÐ¾Ð³Ð´Ð° Ñ‚Ñ‹ Ð¸Ñ… Ð¾Ð¶Ð¸Ð²Ð¸ÑˆÑŒ âœï¸",
  "ÐšÐ°Ð¶Ð´Ð°Ñ ÑÑ‚Ñ€Ð°Ð½Ð¸Ñ†Ð° â€” ÑÑ‚Ð¾ ÑˆÐ°Ð³ Ð² Ð½Ð¾Ð²Ñ‹Ð¹ Ð¼Ð¸Ñ€ ðŸš€",
  "Ð’ÐµÐ»Ð¸ÐºÐ¸Ðµ ÐºÐ½Ð¸Ð³Ð¸ Ð¿Ð¸ÑˆÑƒÑ‚ÑÑ Ð½Ðµ Ð·Ð° Ð´ÐµÐ½ÑŒ, Ð½Ð¾ Ð½Ð°Ñ‡Ð¸Ð½Ð°ÑŽÑ‚ÑÑ Ñ Ð½ÐµÐ³Ð¾ ðŸŒ…"
];

const InteractiveAvatar = () => {
  const [currentMessage, setCurrentMessage] = useState('');
  const [messageType, setMessageType] = useState<'fact' | 'inspiration'>('inspiration');
  const [isAnimating, setIsAnimating] = useState(false);

  useEffect(() => {
    showRandomMessage();
    const interval = setInterval(showRandomMessage, 45000);
    return () => clearInterval(interval);
  }, []);

  const showRandomMessage = () => {
    setIsAnimating(true);
    const useFact = Math.random() > 0.5;
    setMessageType(useFact ? 'fact' : 'inspiration');
    
    const messages = useFact ? literaryFacts : inspiringPhrases;
    const message = messages[Math.floor(Math.random() * messages.length)];
    
    setCurrentMessage(message);
    
    setTimeout(() => setIsAnimating(false), 500);
  };

  return (
    <Card 
      className="fixed bottom-6 right-6 p-4 max-w-md shadow-xl bg-white border-gray-200 cursor-pointer hover:shadow-2xl transition-all duration-300 z-50"
      onClick={showRandomMessage}
    >
      <div className="flex gap-3 items-start">
        <div className={`w-12 h-12 rounded-full bg-black flex items-center justify-center flex-shrink-0 ${isAnimating ? 'animate-bounce' : ''}`}>
          <Icon name={messageType === 'fact' ? 'Lightbulb' : 'Sparkles'} className="text-white" size={24} />
        </div>
        <div className="flex-1">
          <div className="text-xs font-semibold text-black mb-1">
            {messageType === 'fact' ? 'ðŸ“š Ð›Ð¸Ñ‚ÐµÑ€Ð°Ñ‚ÑƒÑ€Ð½Ñ‹Ð¹ Ñ„Ð°ÐºÑ‚' : 'âœ¨ Ð’Ð´Ð¾Ñ…Ð½Ð¾Ð²ÐµÐ½Ð¸Ðµ'}
          </div>
          <p className={`text-sm text-gray-700 leading-relaxed transition-opacity duration-300 ${isAnimating ? 'opacity-0' : 'opacity-100'}`}>
            {currentMessage}
          </p>
        </div>
      </div>
    </Card>
  );
};

export default InteractiveAvatar;